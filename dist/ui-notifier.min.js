"use strict";!function(i){i.module("uiNotifier.config",[]).value("uiNotifier.config",{debug:!0}),i.module("uiNotifier.providers",[]),i.module("uiNotifier.controller",[]),i.module("uiNotifier.directives",[]),i.module("uiNotifier",["uiNotifier.config","uiNotifier.directives","uiNotifier.providers"])}(angular),angular.module("uiNotifier.directives").controller("FlashInstanceController",["uiFlash","$timeout","$log",function(i,t,e){var n=this;this.messages=[],this.option=i.getOptions(),this.duration=this.duration||this.option.duration,this.limit=this.limit||this.option.limit,this.position=this.position||this.option.position,this.single=this.single||this.option.single,this.closeBtn=this.closeBtn||this.option.closeBtn,this.module=this.module||this.option.module;var s=!1;if(angular.module("ngSanitize"))try{angular.module("uiNotifier").requires.push("ngSanitize"),s=!0}catch(o){e.info(o)}this.htmlEnabled=function(){if((n.html||n.option.html)&&!s){var i="uiNotifier warning:\nngSanitize couldn't be located. Make sure the ngSanitize source is injected in your project.";return e.debug(i),!1}var t=n.html||n.option.html;return t?!0:!1},this.add=function(i,t,e){n.single&&n.closeAll(),n._addItem(i,t,e)},this._addItem=function(i,e,s){var o=Math.random().toString(36).substring(7);return s=s||n.duration,n.limit>0&&n.messages.length>n.limit-1&&n.messages.shift(),n.messages.push({id:o,type:i,msg:e,duration:s}),s>0&&t(function(){n.close(o)},s),o},this.close=function(i){n.messages=n.messages.filter(function(t){return t.id!==i})},this.closeAll=function(){n.messages=[]},i.register(this)}]),angular.module("uiNotifier.directives").directive("uiFlashInstance",["uiFlash","$timeout",function(){return{restrict:"EA",template:'<div class="flash-instance flash-{{ ctrl.position }}" ng-class="{ \'flash-module\': ctrl.module }">\n          <div class="flash-track">\n            <div class="flash flash-{{ message.type }}" ng-repeat="message in ctrl.messages">\n              <button ng-hide="!ctrl.closeBtn" ng-click="ctrl.close(message.id)" class="flash-close">\n                <span> &times; </span>\n              </button>\n              <span class="msg" ng-if="!ctrl.htmlEnabled()">{{ message.msg }}</span>\n              <span class="msg" ng-if="ctrl.htmlEnabled()" ng-bind-html="message.msg"></span>\n            </div>\n          </div>\n        </div>',scope:!0,bindToController:{limit:"=?",duration:"=?",single:"=?",closeBtn:"=?",position:"=?",module:"=?",html:"=?"},controller:"FlashInstanceController",controllerAs:"ctrl"}}]),angular.module("uiNotifier.providers").provider("uiFlash",function(){function i(i){l=i}function t(i,t,e){if(i||(i="info"),l)return l.add(i,t,e);throw Error("You must register a ui-flash-instance directive before show message")}function e(){l&&l.closeAll()}function n(i,e){return t("success",i,e)}function s(i,e){return t("info",i,e)}function o(i,e){return t("warning",i,e)}function r(i,e){return t("error",i,e)}var l=null,u={position:"top",duration:3e3,limit:3,single:!1,closeBtn:!0,module:!1,html:!1},a=function(){return u},c=function(i){u=angular.extend(u,i)};this.$get=[function(){return{register:i,getOptions:a,setOptions:c,show:t,success:n,info:s,warning:o,error:r,close:close,closeAll:e}}]});